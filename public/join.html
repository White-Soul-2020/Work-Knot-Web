<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="Harshit Ruwali">
  <title>Join WorkKnot</title>

  <link rel="canonical" href="https://getbootstrap.com/docs/4.5/examples/sign-in/">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

  <!-- Favicons -->
  <link rel="apple-touch-icon" href="/docs/4.5/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
  <link rel="icon" href="/docs/4.5/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
  <link rel="icon" href="/docs/4.5/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
  <link rel="manifest" href="/docs/4.5/assets/img/favicons/manifest.json">
  <link rel="mask-icon" href="/docs/4.5/assets/img/favicons/safari-pinned-tab.svg" color="#563d7c">
  <link rel="icon" href="/docs/4.5/assets/img/favicons/favicon.ico">
  <meta name="msapplication-config" content="/docs/4.5/assets/img/favicons/browserconfig.xml">
  <meta name="theme-color" content="#563d7c">

  <!-- Favicon-->
  <link rel="apple-touch-icon" sizes="180x180" href="images/favicon_io/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon_io/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicon_io/favicon-16x16.png">
  <link rel="manifest" href="images/favicon_io/site.webmanifest">

  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>
  <!-- Custom styles for this template -->
  <link href="css/join.css" rel="stylesheet">
</head>
<body class="text-center">
  <script src="https://www.gstatic.com/firebasejs/7.16.0/firebase-app.js"></script>

 <!--  If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
  <!-- <script src="https://www.gstatic.com/firebasejs/7.16.0/firebase-analytics.js"></script> -->

  <script src="https://www.gstatic.com/firebasejs/7.16.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.16.0/firebase-storage.js"></script>

  <script>
    var firebaseConfig = {
      apiKey: "AIzaSyCpuPX-ukqhfXXl4n_EisZy3vwHQKu_iI4",
      authDomain: "work-knot-app.firebaseapp.com",
      databaseURL: "https://work-knot-app.firebaseio.com",
      projectId: "work-knot-app",
      storageBucket: "work-knot-app.appspot.com",
      messagingSenderId: "188813101400",
      appId: "1:188813101400:web:9662cd3d0287681bd47d2d",
      measurementId: "G-PVWF47TYSY"
    };
  firebase.initializeApp(firebaseConfig);
  </script>
  
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <img src="images/logo.png" class="logo" alt="logo">
    <a class="navbar-brand" href="index.html">WorkKnot</a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
            <a class="nav-link" href="index.html">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="about.html">About Us</a>
        </li>
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="https://mail.google.com/mail/?view=cm&fs=1&to=workknot@gmail.com">Contact Us</a>
          </li>
        <ul class="navbar-nav ">
            <li class="nav-item">
              <a class="nav-link" href="/join.html">Join WorkKnot</a>
            </li>
        </ul>
      </div>
  </nav>

  <form action="/" class="form-signin" method="POST">
    <br>
    <br>
    <img class="mb-4" src="images/logo.png" alt="" width="72" height="72">
    <h1 class="h3 mb-3 font-weight-normal">Join WorkKnot</h1>
    
    <input type="text" name = "Name" class="form-control top" placeholder="Full Name" required autofocus>
    <!-- <input type="text" name="work" class="form-control middle" placeholder="Type of work" required> -->
    <div class="box">
      <label for="Profession">Select your Profession:</label>
      <select id="Profession" name="Profession">
        <option>Please select</option>
        <option value="Contractor">Contractor</option>
        <option value="Labour Contractor">Labour Contractor</option>
        <option value="Civil Engineer">Civil Engineer</option>
        <option value="Architect">Architect</option>
      </select>
      <!-- <input type="submit" name="Profession"> -->
    </div>

    <input type="tel" name ="phnumber"  class="form-control middle" placeholder="Enter your Phone Number (+91)" id="phnumber" required>
    <input type="email" name="email" class="form-control middle" placeholder="Email (Optional)">
    <input type="text" name="address" class="form-control middle" placeholder="Office address" required>
    <div class="box">
      <label for="location">Select your Work Location:</label>
      <select id="location" name="location">
        <option>Please select</option>
        <option value="Gaya">Gaya</option>
        <option value="BodhGaya">BodhGaya</option>
      </select>
      <!-- <input type="submit" name="location"> -->
    </div>
    <textarea type="text" name="about" class="form-control bottom" placeholder="About you (max 100 words) 
    (Optional)" rows="4"></textarea>    
    <br>

    <div class="box">
      <div>Provide your Addhar Card Image</div>
      <br>
      <input type="file" accept="image/*" id="photo" name="aadhar" required>
      <progress value="0" max="100" id="uploader">0%</progress>
      <script>
        const fileInput = document.getElementById('file-input');
        //fileInput.addEventListener('change', (e) => doSomethingWithFiles(e.target.files));
      </script>

      <br>
      <br>
      <!-- Send file to firebase -->
      <div id="target">You can also drag an image file here</div>
      <br> 
      <script>
        const target = document.getElementById('target');

        target.addEventListener('drop', (e) => {
          e.stopPropagation();
          e.preventDefault();

          doSomethingWithFiles(e.dataTransfer.files);
        });

        target.addEventListener('dragover', (e) => {
          e.stopPropagation();
          e.preventDefault();

          e.dataTransfer.dropEffect = 'copy';
        });
      </script>
  </div>
  <br>
  <br>

  <button class="btn btn-lg btn-primary btn-block" type="submit">Join</button>

  <script>
    
    //getting elements
    var uploader = document.getElementById('uploader');
    var fileButton = document.getElementById('photo');

    //file selection
    fileButton.addEventListener('change', function (e){

      //get file
      var file = e.target.files[0];

      //rename file
      var blob = file.slice(0, file.size, 'image/png'); 
      var phnumber = document.getElementById("phnumber").value; 
      var newFile = new File([blob], phnumber + '.png', {type: 'image/png'});
  

      //storage ref
      var storageRef = firebase.storage().ref('Professionals Aadhar Cards/' + newFile.name);

      //upload file
      var task = storageRef.put(file);

      //update progress bar
      task.on('state_changed',
        function progres(snapshot) {
          var percentage = (snapshot.bytesTransferred / snapshot.totalBytes) *100;
          uploader.value = percentage;
        },

        function error(err){
        },

        function complete(){
        }
      );
    });

  </script>

  <p class="mt-5 mb-3 text-muted">&copy; WorkKnot <br> We respect your Privacy</p>
  </form>



</body>
</html>
